<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    <meta name="title" content="WorkAdventure Starter Kit">
    <title>Map test</title>

    <script>
        window.onload = function () {
            const host = window.location.host;
            let path = window.location.pathname;
            if (path.endsWith('index.html')) {
                path = path.substr(path, path.length - 'index.html'.length);
            }
            const instanceId = Math.random().toString(36).substring(2, 15);
            const url = `https://play.workadventu.re/_/${instanceId}/${host}${path}office.tmj`;
            document.getElementById('testMapURL').href = url;
            document.getElementById('testMapBtnURL').href = url;
            document.getElementById('testMapURL').innerText = url;

            const tmjURL = window.location.protocol + '//' + window.location.host + path + 'office.tmj';
            document.getElementById('tmjURL').innerText = tmjURL;

            const gettingStartedLink = 'https://workadventu.re/getting-started?name=Map&mapUrl=' + tmjURL;
            document.getElementById('gettingStartedLink').href = gettingStartedLink;

        };
    </script>
    <style>
        html, body {
        height: 100%;
        }
        body {
        display: flex;
        flex-direction: column;
        }
        .content {
        flex: 1 0 auto;
        }
        footer {
        flex-shrink: 0;
        }

        body {
            font-family: Roboto Condensed,Arial;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        header {
            margin: 30px;
        }

        header .logo {
            display: block;
            position: relative;
        }

        header .logo img {
            display: block;
            width: 500px;
            margin: auto;
            text-align: center;
        }

        h1,
        h2 {
            font-weight: bold;
            font-size: 1.3rem;
        }

        section {
            margin-top: 3rem;
        }

        .tips {
            font-size: 0.8rem;
            font-style: italic;
        }

        .socials img {
            width: 30px;
            height: 30px;
        }

        .socials > a {
            display: inline-block;
            margin: 20px 5px;
        }

        a.button {
            display: inline-block;
            padding: 13px 20px 12px;
            background-color: rgba(65, 86, 246, 0.9);
            color: white;
            border-radius: 8px;
            font-weight: bold;
            text-transform: uppercase;
            text-decoration: none;
            text-align: center;
            width: auto;
            position: relative;
            font-size: 1.3em;
        }

        a.button:hover {
            background-color: rgb(65, 86, 246);
            cursor: pointer;
        }

        .map {
            width: 30%;
            margin-bottom: 3%;
            min-width: 200px;
        }

        .url-box {
            border: 1px solid rgb(65, 86, 246);
            border-radius: 3px;
            padding: 3px;
            background-color: rgba(65, 86, 246, 0.1);
        }
        .url {
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
        }

        footer {
            display: block;
            padding: 2rem 5vw;
        }
    </style>
</head>

<body>
    <div class="content">
        <header>
            Nice! This map is live!
        </header>
        <main>
            <section>
                <h2>Test your map (in a sandbox): </h2>
                <p><a id="testMapURL" href="#" class="url"></a></p>
                <p><a id="testMapBtnURL" href="#" class="button">Try it out!</a></p>
                <p class="title">Nice! This map is live. you can test it on a sandbox with the link above or using the button.</p>
                
                
                <p class="tips">Tip: Open the link in a new tab to keep this page open.</p>
            </section>

            <section>
                <h2>How do I set this as my house in flavortown?</h2>
                <p>Publish all code on GitHub, host this page with GitHub Pages</p>
                <p>Copy and paste the below URL into the upload a map section on the flavortown navigation menu.</p>
                <p><span id="tmjURL" class="url-box url"></span></p>
            </section>

            <section>
                <h2>Stuck? DM @euanripper on slack.</h2>
                <div>

                    <div>
                        <a href="https://www.youtube.com/watch?v=lu1IZgBJJD4&list=PL7jmrMKZfjCnz36FvezxJ-Tshuh3Zz-nc&ab_channel=WorkAdventure"
                        target="_blank">Watch tutorials</a>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <footer>
        <a href="https://workadventu.re/" target="_blank" title="workadventu.re">&copy; WorkAdventure</a>
    </footer>
</body>

</html>